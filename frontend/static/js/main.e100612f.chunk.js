(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(7),i=a.n(o),l=a(8),r=a(1),s=function(e){var t=e.taskList,a=e.deleteTodo,n=e.currentUpdate,o=e.lineThrough;return c.a.createElement("div",{className:"list-container"},c.a.createElement("ul",{className:"unorder-list"},t.length>0?t.map((function(e){var t=e.id,i=e.title;return c.a.createElement("li",{className:"task-list",key:t},c.a.createElement("span",{className:"content ".concat(e.completed?"active":""),onClick:function(){o(e)}},i),c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"far fa-edit","aria-hidden":"true",onClick:function(){n(t,i)}}),c.a.createElement("i",{className:"far fa-trash-alt","aria-hidden":"true",onClick:function(){a(t)}})))})):c.a.createElement("li",{className:"task-list"},c.a.createElement("span",{className:"content "},"No List now, Enter your todo list"),c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"far fa-edit","aria-hidden":"true"}),c.a.createElement("i",{className:"far fa-trash-alt","aria-hidden":"true"})))))},u=a(2),d=a(5),m=function(e){var t=e.addTodo,a={id:null,title:"",completed:!1},o=Object(n.useState)(a),i=Object(r.a)(o,2),l=i[0],s=i[1];return c.a.createElement("div",{className:"inputBox"},c.a.createElement("form",{method:"POST",className:"inputForm"},c.a.createElement("input",{type:"text",placeholder:"Add task",className:"inputField",name:"title",value:l.title,onChange:function(e){var t=e.target,a=t.name,n=t.value;s(Object(d.a)({},l,Object(u.a)({},a,n)))}}),c.a.createElement("button",{type:"submit",className:"submitBtn",onClick:function(e){e.preventDefault(),l.title&&(t(l),s(a))}},"Submit")))},f=function(e){var t=e.currentTodo,a=e.updateTodo,o=Object(n.useState)(t),i=Object(r.a)(o,2),l=i[0],s=i[1];Object(n.useEffect)((function(){s(t)}),[t]);return c.a.createElement("div",{className:"inputBox"},c.a.createElement("form",{method:"PUT",className:"inputForm"},c.a.createElement("input",{type:"text",placeholder:"Add task",className:"inputField",name:"title",value:l.title,onChange:function(e){var t=e.target,a=t.name,n=t.value;s(Object(d.a)({},l,Object(u.a)({},a,n)))}}),c.a.createElement("button",{type:"submit",className:"submitBtn",onClick:function(e){if(e.preventDefault(),l.title){a(l);s({id:null,title:""})}}},"Update")))};a(14);function p(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var c=a[n].trim();if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}var h=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],o=t[1],i=function(){fetch("http://127.0.0.1:8000/api/task-list").then((function(e){return e.json()})).then((function(e){return o(e)}))};Object(n.useEffect)((function(){i()}),[]);var u=Object(n.useState)(!1),d=Object(r.a)(u,2),h=d[0],E=d[1],b=Object(n.useState)({id:null,title:""}),k=Object(r.a)(b,2),v=k[0],N=k[1];return c.a.createElement("div",{className:"container"},c.a.createElement("header",{className:"header"},c.a.createElement("h2",null,"Todo List"),c.a.createElement("h4",null,"(Django RESTful api + React Hooks)")),h?c.a.createElement(f,{updateTodo:function(e){var t=e.id,a=e.title;E(!1);var n=p("csrftoken"),c="http://127.0.0.1:8000/api/task-update/".concat(t);fetch(c,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":n},body:JSON.stringify({title:a})}).then((function(e){i()}))},currentTodo:v}):c.a.createElement(m,{addTodo:function(e){var t=p("csrftoken");fetch("http://127.0.0.1:8000/api/task-create/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:JSON.stringify({title:e.title})}).then((function(t){o([].concat(Object(l.a)(a),[e]))}))}}),c.a.createElement(s,{taskList:a,deleteTodo:function(e){console.log(e,"id");var t=p("csrftoken"),a="http://127.0.0.1:8000/api/task-delete/".concat(e);fetch(a,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":t}}).then((function(e){i()}))},currentUpdate:function(e,t){E(!0),N({id:e,title:t})},lineThrough:function(e){e.completed=!e.completed;var t=p("csrftoken"),a="http://127.0.0.1:8000/api/task-update/".concat(e.id);fetch(a,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:JSON.stringify({title:e.title,completed:e.completed})}).then((function(e){i()}))}}))};i.a.render(c.a.createElement(h,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.e100612f.chunk.js.map