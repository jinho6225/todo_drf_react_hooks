(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(7),i=n.n(o),r=n(8),l=n(1),s=function(e){var t=e.taskList,n=e.deleteTodo,a=e.currentUpdate,o=e.lineThrough;return c.a.createElement("div",{className:"list-container"},c.a.createElement("ul",{className:"unorder-list"},t.length>0?t.map((function(e){var t=e.id,i=e.title;return c.a.createElement("li",{className:"task-list",key:t},c.a.createElement("span",{className:"content ".concat(e.completed?"active":""),onClick:function(){o(e)}},i),c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"far fa-edit","aria-hidden":"true",onClick:function(){a(t,i)}}),c.a.createElement("i",{className:"far fa-trash-alt","aria-hidden":"true",onClick:function(){n(t)}})))})):c.a.createElement("li",{className:"task-list"},c.a.createElement("span",{className:"content "},"No List now, Enter your todo list"),c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"far fa-edit","aria-hidden":"true"}),c.a.createElement("i",{className:"far fa-trash-alt","aria-hidden":"true"})))))},u=n(2),m=n(5),d=function(e){var t=e.addTodo,n={id:null,title:"",completed:!1},o=Object(a.useState)(n),i=Object(l.a)(o,2),r=i[0],s=i[1];return c.a.createElement("div",{className:"inputBox"},c.a.createElement("form",{method:"POST",className:"inputForm"},c.a.createElement("input",{type:"text",placeholder:"Add task",className:"inputField",name:"title",value:r.title,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(m.a)({},r,Object(u.a)({},n,a)))}}),c.a.createElement("button",{type:"submit",className:"submitBtn",onClick:function(e){e.preventDefault(),r.title&&(t(r),s(n))}},"Submit")))},p=function(e){var t=e.currentTodo,n=e.updateTodo,o=Object(a.useState)(t),i=Object(l.a)(o,2),r=i[0],s=i[1];Object(a.useEffect)((function(){s(t)}),[t]);return c.a.createElement("div",{className:"inputBox"},c.a.createElement("form",{method:"PUT",className:"inputForm"},c.a.createElement("input",{type:"text",placeholder:"Add task",className:"inputField",name:"title",value:r.title,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(m.a)({},r,Object(u.a)({},n,a)))}}),c.a.createElement("button",{type:"submit",className:"submitBtn",onClick:function(e){if(e.preventDefault(),r.title){n(r);s({id:null,title:""})}}},"Update")))};n(14);function h(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var c=n[a].trim();if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}var f=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],i=function(){fetch("https://jhmyung6225.pythonanywhere.com/api/task-list").then((function(e){return e.json()})).then((function(e){return o(e)}))};Object(a.useEffect)((function(){i()}),[]);var u=Object(a.useState)(!1),m=Object(l.a)(u,2),f=m[0],E=m[1],b=Object(a.useState)({id:null,title:""}),k=Object(l.a)(b,2),y=k[0],v=k[1];return c.a.createElement("div",{className:"container"},c.a.createElement("header",{className:"header"},c.a.createElement("h2",null,"Todo List"),c.a.createElement("h4",null,"(Django RESTful api + React Hooks)")),f?c.a.createElement(p,{updateTodo:function(e){var t=e.id,n=e.title;E(!1);var a=h("csrftoken"),c="https://jhmyung6225.pythonanywhere.com/api/task-update/".concat(t);fetch(c,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({title:n})}).then((function(e){i()}))},currentTodo:y}):c.a.createElement(d,{addTodo:function(e){var t=h("csrftoken");fetch("https://jhmyung6225.pythonanywhere.com/api/task-create/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:JSON.stringify({title:e.title})}).then((function(t){o([].concat(Object(r.a)(n),[e]))}))}}),c.a.createElement(s,{taskList:n,deleteTodo:function(e){console.log(e,"id");var t=h("csrftoken"),n="https://jhmyung6225.pythonanywhere.com/api/task-delete/".concat(e);fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":t}}).then((function(e){i()}))},currentUpdate:function(e,t){E(!0),v({id:e,title:t})},lineThrough:function(e){e.completed=!e.completed;var t=h("csrftoken"),n="https://jhmyung6225.pythonanywhere.com/api/task-update/".concat(e.id);fetch(n,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:JSON.stringify({title:e.title,completed:e.completed})}).then((function(e){i()}))}}))};i.a.render(c.a.createElement(f,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.43f279cd.chunk.js.map